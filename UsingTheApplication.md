# Introduction #

Here are some rough notes on the current functionality of the application. The software is still unfinished and the UI is extremely rough, however it does support the basic DAISY 202 format for audio books, so some of you may already find it useful.

The content of the DAISY books will need to be installed in folders (directories) on the SD Card in the Android device.

We have provided a sample book in the Resources folder of the source code. The book is called light-man and is available here http://code.google.com/p/android-daisy-epub-reader/source/browse/#svn/trunk/Resources/light-man - Download all the files onto your computer, preferably into a separate folder, and then copy the folder to the SD card using a USB connection. We will try to find ways to distribute some sample books more easily in future.

# An overview of the application #
The software consists of a main menu which consists of a set of buttons, and various additional screens including the main 'player' for Daisy 2.02 full audio books, and a brief set of instructions.

# The User Interface #
As mentioned in the overview, the main menu consists of a set of buttons. If you have a Text-To-Speech (TTS) service enabled, such as TalkBack, then the TTS software will read out the buttons as you navigate between them, for instance using a D-pad or a trackball. Select a button by clicking on it.

We have yet to add tactile or auditory feedback to the player. We aim to do so shortly. The request is being tracked in [Issue 45](https://code.google.com/p/android-daisy-epub-reader/issues/detail?id=45) here http://code.google.com/p/android-daisy-epub-reader/issues/detail?id=45

The main player consists of 2 complementary user-interfaces:
  1. Gestures
  1. Keyboard controls
These are described next.

## Gestures ##
Before we cover the individual gestures, let's briefly cover the structure of DAISY books. The books consist of a set of related files. One of the files specifies the order of sections in the book, and each section has a level, which is also known as a depth. Some books only have one level, level 1, others have more. There is a maximum of 6 levels for Daisy 2.02 books. They are numbered from 1 to 6, with 1 being the highest level and 6 the most detailed level.

Currently (with release [r293](https://code.google.com/p/android-daisy-epub-reader/source/detail?r=293)) 7 distinct gestures are supported.
  * Tap on the screen to toggle play and pause
  * Swipe UP to navigate the the previous section
  * Swipe DOWN to navigate to the next section
  * Swipe LEFT to select a higher level of navigation e.g. from level 3 to level 2. The highest level is level 1.
  * Swipe RIGHT to select a lower, more detailed, level of navigation e.g. from level 1 to level 2.  The player limits the levels to the number contained in the book. Trying to select a deeper level is not an error, the player simply remains at the deepest level.
    * Swipe DIAGONALLY DOWN AND LEFT to rewind the player slightly. Currently the player skips 10 seconds backwards through the audio.
    * Swipe DIAGONALLY DOWN AND RIGHT to fast-forward the player slightly. Currently the player skips 10 seconds forward through the audio.

The fast-forward and rewind actions are limited to the current section, they don't go to another section.

## Keystrokes ##
The player now includes support for keystrokes either using a keyboard if one is available as part of the Android device, or using Bluetooth controllers.

The current set of keystrokes are:
|Keystroke|Action|Comment|
|:--------|:-----|:------|
|1 |Go Up one level|Navigates up one level in the book hierarchy|
|6 |Go Down one level|Navigates down one level in the book hierarchy|
|b |Go Back one section|Navigation is to the previous section of equal or higher level in the current book. You cannot go beyond the start of a book. No error or message is currently displayed when you try to go Backwards from the start of the book|
|f |Go Forward one section|Navigation is to the next section of equal or higher level in the current book. You cannot go beyond the end of a book. You cannot go beyond the end of the book|
|p |Toggles Pause and Play|The letters represent the English words e.g. P for Pause and Play. We would like to localize keyboard support soon.|
|fast-forward|Go forward one section in the book|This keystroke is typically generated by bluetooth music controls e.g. those that support A2DP.|
|rewind|Go back one section in the book|This keystroke is typically generated by bluetooth music controls e.g. those that support A2DP.|

For the technically minded, the keyboard support is provided in the following source file
http://code.google.com/p/android-daisy-epub-reader/source/browse/trunk/src/com/ader/ui/DaisyPlayer.java

# Support for your language #
The DaisyReader has now been translated into a number of languages. The default language is English. If your Android device is set to another language e.g. French then the user-interface will switch to French automatically. Currently you cannot pick a different language for the DaisyReader than the one your Android device is currently using.

If you select a language for your phone that we have not yet translated our software into, you will get the default, English text. You are welome to contribute a translation, instructions on how to do so are available here http://code.google.com/p/android-daisy-epub-reader/wiki/Translations

There currently seem to be problems with the automatic language selection for some languages e.g. Norwegian. We don't know why this happens and it seems to be something beyond the control of our application and that has a more widespread effect across multiple applications on the Android device that's misbehaving. We are investigating the issue and hope to resolve it as soon as practical.

# More Information #
Start the DAISY reader and browse to the folder containing a DAISY book e.g. light-man.

The application will detect that the folder contains a DAISY 2.02 book and
when you press select on the folder name, the book will open.

You can then use the trackball/DPad to select the required chapter
from the book and press select to toggle Play/Stop.

When you press stop and exit the application, it remembers where
you last were in the book so you can resume reading at a later time.

When you open a DAISY book the default heading level is 1. Some simple
books may only need 1 level such as the sample book provided, other
longer books such as long novels or manuals etc may be split into
parts and chapters, in which case you would typically find Parts at
heading level 1 and chapters at heading level 2.

At present, a long press of the trackball will enable you to choose
the level you require. In the example above, choosing level 1 enables
you to navigate quickly between just the parts of the book, choosing
level 2, would include the chapter headings as well.

The application has not yet implemented several features of the
standard such as phrase navigation, Page navigation, sidebars etc,
however it can now be used at a basic level to read many DAISY books
such as the thousands of DAISY books available from The Royal National
Institute of the Blind and other DAISY book libraries around the
world.

# Notes #
The contents of a DAISY book may have multiple heading levels similar
to an HTML page and this is now supported by the application.

Sample books are available with multiple levels.